<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Uzuxer - Terminal</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: monospace;
      text-align: center;
      padding: 20px;
    }
    h1 img {
      max-width: 300px;
    }
    .login-box {
      background-color: #111;
      border: 2px solid white;
      border-radius: 10px;
      padding: 20px;
      width: 300px;
      margin: 50px auto;
    }
    .terminal {
      background-color: #111;
      border: 2px solid white;
      border-radius: 10px;
      padding: 10px;
      width: 80%;
      margin: 10px auto;
      text-align: left;
      min-height: 50px;
    }
    input {
      width: 95%;
      background-color: black;
      border: none;
      color: white;
      font-family: monospace;
      font-size: 1em;
      outline: none;
    }
    button {
      background: black;
      color: white;
      border: 1px solid white;
      padding: 5px 10px;
      margin-top: 10px;
      cursor: pointer;
    }
    button:hover {
      background: white;
      color: black;
    }
    #output {
      min-height: 150px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1><img src="logo.png" alt="Uzuxer Logo"></h1>

  <!-- Pantalla de login -->
  <div id="login" class="login-box">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Usuario" /><br><br>
    <input type="password" id="password" placeholder="Contraseña" /><br><br>
    <button onclick="login()">Entrar</button>
    <button onclick="guestLogin()">Entrar como Invitado</button>
  </div>

  <!-- Terminal -->
  <div id="terminalUI" style="display:none;">
    <div><em>Entrada del comando</em></div>
    <div class="terminal">
      <span>$ </span><input type="text" id="commandInput" autofocus />
    </div>
    <div><em>Salida del comando</em></div>
    <div class="terminal" id="output"></div>
  </div>

  <script>
    let currentUser = "invitado";

    const input = document.getElementById('commandInput');
    const output = document.getElementById('output');
    const loginBox = document.getElementById('login');
    const terminalUI = document.getElementById('terminalUI');

    function login() {
      const user = document.getElementById('username').value;
      const pass = document.getElementById('password').value;

      if (user === "Uzuxer" && pass === "y54pca2w$_T") {
        currentUser = "Uzuxer";
        loginBox.style.display = "none";
        terminalUI.style.display = "block";
        appendOutput("Bienvenido " + currentUser);
      } else {
        alert("Usuario o contraseña incorrectos.");
      }
    }

    function guestLogin() {
      currentUser = "invitado";
      loginBox.style.display = "none";
      terminalUI.style.display = "block";
      appendOutput("Entraste como invitado");
    }

    input.addEventListener('keydown', function(event) {
      if (event.key === 'Enter') {
        const command = input.value.trim();
        processCommand(command);
        input.value = '';
      }
    });

    function appendOutput(text) {
      output.textContent += text + '\n';
      output.scrollTop = output.scrollHeight;
    }

    function processCommand(command) {
      if (command === '') return;

      // help
      if (command === 'help') {
        appendOutput(
`Comandos disponibles:
help - Muestra esta ayuda
clear - Limpia la salida
date - Muestra la fecha actual
echo 'texto' - Muestra el texto
whoami - Muestra el usuario actual
entr -cp - Redirige a un enlace especial
entr -'codigo' - Redirige a un enlace
games - Juegos disponibles
calc [expresión] - Calculadora
about - Info del sistema
time - Hora actual
rand - Número aleatorio
reverse 'texto' - Invierte el texto
len 'texto' - Largo del texto
upper 'texto' - Mayúsculas
lower 'texto' - Minúsculas`);
        return;
      }

      // clear
      if (command === 'clear') {
        output.textContent = '';
        return;
      }

      // date
      if (command === 'date') {
        appendOutput(new Date().toDateString());
        return;
      }

      // time
      if (command === 'time') {
        appendOutput(new Date().toLocaleTimeString());
        return;
      }

      // echo
      if (command.startsWith("echo '") && command.endsWith("'")) {
        const text = command.slice(6, -1);
        appendOutput(text);
        return;
      }

      // whoami
      if (command === 'whoami') {
        appendOutput(currentUser);
        return;
      }

      // entr -cp
      if (command === 'entr -cp') {
        const url = "https://youtu.be/xvFZjo5PgG0?si=vVmKzxA1orS28L8_";
        appendOutput("Redirigiendo a: " + url);
        setTimeout(() => { window.location.href = url; }, 1000);
        return;
      }

      // entr -'codigo'
      if (command.startsWith("entr -'") && command.endsWith("'")) {
        const code = command.slice(7, -1);
        const url = "https://example.com/" + encodeURIComponent(code);
        appendOutput("Redirigiendo a: " + url);
        setTimeout(() => { window.location.href = url; }, 1000);
        return;
      }

      // games
      if (command === 'games') {
        appendOutput("Juegos disponibles: snake, pong (próximamente)");
        return;
      }

      // calc
      if (command.startsWith("calc ")) {
        try {
          const expr = command.slice(5);
          const result = eval(expr);
          appendOutput("Resultado: " + result);
        } catch {
          appendOutput("Error en la expresión.");
        }
        return;
      }

      // about
      if (command === 'about') {
        appendOutput("Uzuxer Terminal v1.0 - Proyecto en desarrollo 🚀");
        return;
      }

      // rand
      if (command === 'rand') {
        appendOutput("Número aleatorio: " + Math.floor(Math.random() * 1000));
        return;
      }

      // reverse
      if (command.startsWith("reverse '") && command.endsWith("'")) {
        const text = command.slice(9, -1);
        appendOutput(text.split('').reverse().join(''));
        return;
      }

      // len
      if (command.startsWith("len '") && command.endsWith("'")) {
        const text = command.slice(5, -1);
        appendOutput("Longitud: " + text.length);
        return;
      }

      // upper
      if (command.startsWith("upper '") && command.endsWith("'")) {
        const text = command.slice(7, -1);
        appendOutput(text.toUpperCase());
        return;
      }

      // lower
      if (command.startsWith("lower '") && command.endsWith("'")) {
        const text = command.slice(7, -1);
        appendOutput(text.toLowerCase());
        return;
      }

      appendOutput("Comando no reconocido. Escribe 'help' para ver la lista.");
    }
  </script>
</body>
</html>
